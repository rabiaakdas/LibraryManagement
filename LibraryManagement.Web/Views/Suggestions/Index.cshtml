@model IEnumerable<LibraryManagement.Web.Entity.BookSuggestion>

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">

<style>
    .book-card {
        border-radius: 15px;
        padding: 20px;
        margin-bottom: 15px;
        box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        transition: transform 0.3s, box-shadow 0.3s;
        background: #fff;
    }

        .book-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 25px rgba(0,0,0,0.15);
        }

        .book-card h5 {
            font-weight: bold;
        }

    .btn-like {
        border-radius: 50px;
        transition: transform 0.2s;
    }

        .btn-like:hover {
            transform: scale(1.05);
        }

    .suggestion-card {
        border-radius: 15px;
        padding: 25px;
        box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        background: #fff;
    }
</style>

<h2 class="mb-4">Önerilen Kitaplar</h2>

@if (TempData["Message"] != null)
{
    <div class="alert alert-success">@TempData["Message"]</div>
}
@if (TempData["Error"] != null)
{
    <div class="alert alert-danger">@TempData["Error"]</div>
}

<div class="row g-4">
    <div class="col-md-6">
        @foreach (var book in Model)
        {
            <div class="book-card">
                <h5>@book.Title @if(!string.IsNullOrEmpty(book.Author)){
                <small class="text-muted">– @book.Author</small>
            }
</h5>
            @if (!string.IsNullOrEmpty(book.Description))
            {
                <p>@book.Description</p>
            }
            <form asp-action="Like" method="post" class="d-inline">
                <input type="hidden" name="id" value="@book.Id" />
                <button class="btn btn-outline-primary btn-sm btn-like"><i class="bi bi-hand-thumbs-up me-1"></i>Katıldım (@book.Likes)</button>
            </form>
        </div>
                }
    </div>

    <div class="col-md-6">
        <div class="suggestion-card">
            <h4 class="mb-3">Yeni Kitap Öner</h4>
            <form asp-action="AddSuggestion" method="post">
                <div class="mb-3">
                    <label class="form-label">Kitap Başlığı</label>
                    <input type="text" name="Title" class="form-control" required />
                </div>
                <div class="mb-3">
                    <label class="form-label">Yazar (opsiyonel)</label>
                    <input type="text" name="Author" class="form-control" />
                </div>
                <div class="mb-3">
                    <label class="form-label">Açıklama (opsiyonel)</label>
                    <textarea name="Description" class="form-control"></textarea>
                </div>
                <div class="mb-3">
                    <label class="form-label">E-posta (opsiyonel)</label>
                    <input type="email" name="SuggestedByEmail" class="form-control" />
                </div>
                <button type="submit" class="btn btn-primary w-100">Öner</button>
            </form>
        </div>
    </div>
</div>
